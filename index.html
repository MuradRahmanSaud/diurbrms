<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RBRMS - DIU</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        /* Default Theme: Teal */
        --color-primary-50: #f0fdfa;
        --color-primary-100: #ccfbf1;
        --color-primary-200: #99f6e4;
        --color-primary-300: #5eead4;
        --color-primary-400: #2dd4bf;
        --color-primary-500: #14b8a6;
        --color-primary-600: #0d9488;
        --color-primary-700: #0f766e;
        --color-primary-800: #115e59;
        --color-primary-900: #134e4a;
        
        --color-accent-yellow-300: #fde047;
        --color-accent-yellow-400: #facc15;
        
        --color-accent-red-100: #fee2e2;
        --color-accent-red-500: #ef4444;
        --color-accent-red-600: #dc2626;
        --color-accent-red-700: #b91c1c;

        --color-bg-base: #f3f4f6; /* gray-100 */
        --color-bg-muted: #e5e7eb; /* gray-200 */
        --color-bg-panel: #ffffff;
        --color-bg-panel-alt: #f9fafb; /* gray-50 */
        
        --color-text-base: #1f2937; /* gray-800 */
        --color-text-muted: #6b7280; /* gray-500 */
        --color-text-subtle: #9ca3af; /* gray-400 */
        --color-text-on-primary: #ffffff;
        --color-text-primary-accent: #0f766e; /* teal-700, for text */
      }

      /* Global slim scrollbar for Webkit browsers */
      ::-webkit-scrollbar {
        width: 5px !important;
        height: 5px !important;
      }
      ::-webkit-scrollbar-track {
        background: #e5e7eb !important; /* gray-200 */
      }
      ::-webkit-scrollbar-thumb {
        background: #9ca3af !important; /* gray-400 */
        border-radius: 10px !important;
        box-shadow: inset 0 0 5px grey !important;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #6b7280 !important; /* gray-500 */
      }

      /* Specific thinner scrollbar for elements with .custom-scrollbar */
      .custom-scrollbar::-webkit-scrollbar {
        width: 2px !important; /* Further reduced width */
        height: 2px !important; /* Further reduced height */
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent !important; /* Transparent track background */
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: var(--color-primary-500) !important;
        border-radius: 10px !important;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: var(--color-primary-600) !important;
      }
      /* For Firefox - note: Firefox scrollbar styling is less direct */
      /* Applying similar feel for Firefox scrollbar thumb */
      .custom-scrollbar {
        scrollbar-width: thin !important; /* "auto" or "thin" */
        scrollbar-color: var(--color-primary-600) transparent !important;
      }

      /* New scrollbar for light-background filter panels */
      .filter-panel-scrollbar::-webkit-scrollbar {
        width: 4px !important;
        height: 4px !important;
      }
      .filter-panel-scrollbar::-webkit-scrollbar-track {
        background: transparent !important;
      }
      .filter-panel-scrollbar::-webkit-scrollbar-thumb {
        background: #cbd5e1 !important; /* slate-300 */
        border-radius: 10px !important;
      }
      .filter-panel-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #94a3b8 !important; /* slate-400 */
      }
      .filter-panel-scrollbar {
        scrollbar-width: thin !important;
        scrollbar-color: #94a3b8 transparent !important; /* thumb (slate-400) and TRANSPARENT track */
      }

      /* New class to hide scrollbar */
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
      }

      /* New scrollbar for section details panel */
      .section-detail-scrollbar::-webkit-scrollbar {
        width: 3px !important; /* Thinner than filter panel, slightly more visible than 2px */
        height: 3px !important;
      }
      .section-detail-scrollbar::-webkit-scrollbar-track {
        background: transparent !important;
      }
      .section-detail-scrollbar::-webkit-scrollbar-thumb {
        background: #cbd5e1 !important; /* slate-300 */
        border-radius: 10px !important;
      }
      .section-detail-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #94a3b8 !important; /* slate-400 */
      }
      .section-detail-scrollbar {
        scrollbar-width: thin !important;
        scrollbar-color: #94a3b8 transparent !important; /* thumb (slate-400) and TRANSPARENT track */
      }


      html, body, #root {
        height: 100%;
        margin: 0;
        padding: 0;
        /* overflow: hidden; /* Prevent scrollbars on body/root due to panel animations - This will be handled by Modal dynamically */
      }
      body {
        font-family: 'Inter', sans-serif; /* A nice sans-serif font */
        background-color: var(--color-bg-base);
      }
      /*
        The rule for `th.sticky { background-color: inherit; }` has been removed.
        Individual sticky header cells (th) are now styled as cards and define their own
        background colors using Tailwind utility classes (e.g., bg-teal-900, bg-teal-700).
        The `thead` element itself has a background (e.g. bg-gray-200) to provide the
        visual spacing/gap color between these header cards.
      */

      /* Keyframes for modal animations (can also be in Modal.tsx with styled-jsx if preferred) */
      @keyframes rbrms-modal-scale-in {
        from {
          opacity: 0;
          transform: scale(0.95) translateY(10px);
        }
        to {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
      }
      @keyframes rbrms-modal-fade-in {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      /* Keyframes for Login Screen Animations */
      @keyframes fade-in-up {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .animate-fade-in-up {
        animation: fade-in-up 0.5s ease-out forwards;
        opacity: 0; /* Start hidden */
      }


      /* Text shadow utilities */
      .text-shadow-md { text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
      .text-shadow { text-shadow: 0 1px 2px rgba(0,0,0,0.3); }
      
      /* Drag and Drop Styles */
      .dragging {
        opacity: 0.5;
        transform: scale(0.95);
      }
      .drop-target-active {
        outline: 2px dashed var(--color-primary-500);
        outline-offset: -2px;
        background-color: var(--color-primary-100) !important;
        border-radius: 0.375rem; /* rounded-md */
      }

      /* Schedule Conflict Styles */
      @keyframes pulse-warning {
        0%, 100% {
          background-color: rgba(239, 68, 68, 0.15); /* red-500 @ 15% */
        }
        50% {
          background-color: rgba(239, 68, 68, 0.3); /* red-500 @ 30% */
        }
      }
      .schedule-conflict {
        position: relative; /* Needed for pseudo-element positioning */
      }
      .schedule-conflict::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        animation: pulse-warning 1.5s infinite;
        border: 2px solid var(--color-accent-red-500); /* red-500 */
        border-radius: inherit; /* Inherit border-radius from parent */
        pointer-events: none; /* Let clicks pass through */
        z-index: 1; /* Make sure it's on top */
      }
      
      /* Filter Highlight Styles */
      @keyframes pulse-highlight {
        0%, 100% {
          box-shadow: 0 0 0 0 rgba(250, 204, 21, 0.7); /* yellow-400 at 70% */
        }
        50% {
          box-shadow: 0 0 0 4px rgba(250, 204, 21, 0); /* yellow-400 at 0% */
        }
      }
      .cell-highlight {
        animation: pulse-highlight 2s infinite;
        border: 1px solid var(--color-accent-yellow-400);
      }

      /* Pending Change Cell Style */
      .pending-cell-bg {
          background-image: repeating-linear-gradient(
              -45deg,
              rgba(255, 255, 255, 0),
              rgba(255, 255, 255, 0) 5px,
              rgba(0, 0, 0, 0.04) 5px,
              rgba(0, 0, 0, 0.04) 10px
          );
      }


    </style>
     <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^18.2.0",
    "react-dom/": "https://esm.sh/react-dom@^18.2.0/",
    "react/": "https://esm.sh/react@^18.2.0/",
    "xlsx": "https://esm.sh/xlsx@^0.18.5",
    "@google/genai": "https://esm.sh/@google/genai@^1.8.0",
    "jspdf": "https://esm.sh/jspdf@^3.0.1",
    "jspdf-autotable": "https://esm.sh/jspdf-autotable@^5.0.2",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^4.7.0",
    "vite": "https://esm.sh/vite@^7.0.6"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body class="bg-[var(--color-bg-base)]">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script><script type="module" src="/index.tsx"></script>
</body>
</html>